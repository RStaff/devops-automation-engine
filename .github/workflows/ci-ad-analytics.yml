# .github/workflows/ci-ad-analytics.yml
name: Ad Analytics

on:
  push:
    paths:
      - 'ad_analytics_pipeline/**'

jobs:
  run-ad-analytics:
    # call the reusable template
    uses: ./.github/workflows/ci-template.yml

    # inputs for the template
    with:
      pipeline-dir: ad_analytics_pipeline
      environment: dev
      tools: '["bash"]'

    # explicitly forward the three secrets the template declared
    secrets:
      GCP_PROJECT: ${{ secrets.GCP_PROJECT }}
      GCP_REGION:  ${{ secrets.GCP_REGION }}
      GCP_SA_KEY:  ${{ secrets.GCP_SA_KEY }}

