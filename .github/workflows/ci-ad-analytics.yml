# .github/workflows/ci-ad-analytics.yml
name: CI Ad Analytics

on:
  push:
    paths:
      - 'ad_analytics_pipeline/**'

jobs:
  run-ad-analytics:
    # Invoke our reusable template
    uses: ./.github/workflows/ci-template.yml

    # Inputs for the template
    with:
      pipeline-dir: ad_analytics_pipeline
      environment: dev
      tools: '["bash"]'

    # ─── You MUST forward the secrets this template declared ────────────────
    secrets:
      GCP_PROJECT: ${{ secrets.GCP_PROJECT }}
      GCP_REGION:  ${{ secrets.GCP_REGION }}
      GCP_SA_KEY:  ${{ secrets.GCP_SA_KEY }}
